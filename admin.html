<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช | ุงูููุฑุณ ุงูููุจู ุงูููุญุฏ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body class="bg-slate-50 p-4">

    <div class="max-w-3xl mx-auto bg-white shadow-2xl rounded-3xl overflow-hidden border border-slate-200">
        <div class="bg-blue-900 text-white p-8 text-center">
            <h1 class="text-2xl font-bold">ูุฑูุฒ ุชุฒููุฏ ุงูุจูุงูุงุช ุงูุฐูู</h1>
            <p class="text-blue-200 mt-2">ูุธุงู Firebase ููุฅูุฏุงุน ุงูููุฑู</p>
        </div>

        <div class="p-8">
            <form id="thesisForm" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div class="md:col-span-2">
                        <label class="font-bold text-blue-900">ุงูุฌุงูุนุฉ</label>
                        <input type="text" id="university" class="w-full border-2 border-slate-100 p-3 rounded-xl focus:border-blue-500 outline-none transition" placeholder="ูุซุงู: ุฌุงูุนุฉ ุทุฑุงุจูุณ" required>
                    </div>
                    <div>
                        <label class="font-bold text-blue-900">ุงุณู ุงูุจุงุญุซ</label>
                        <input type="text" id="author" class="w-full border-2 border-slate-100 p-3 rounded-xl focus:border-blue-500 outline-none" required>
                    </div>
                    <div>
                        <label class="font-bold text-blue-900">ุนููุงู ุงูุฑุณุงูุฉ</label>
                        <input type="text" id="title" class="w-full border-2 border-slate-100 p-3 rounded-xl focus:border-blue-500 outline-none" required>
                    </div>
                    <div>
                        <label class="font-bold text-blue-900">ุงููููุฉ</label>
                        <input type="text" id="faculty" class="w-full border-2 border-slate-100 p-3 rounded-xl focus:border-blue-500 outline-none" required>
                    </div>
                    <div>
                        <label class="font-bold text-blue-900">ุงููุณู</label>
                        <input type="text" id="dept" class="w-full border-2 border-slate-100 p-3 rounded-xl focus:border-blue-500 outline-none" required>
                    </div>
                    <div>
                        <label class="font-bold text-blue-900">ุงููุดุฑู</label>
                        <input type="text" id="supervisor" class="w-full border-2 border-slate-100 p-3 rounded-xl focus:border-blue-500 outline-none" required>
                    </div>
                    <div>
                        <label class="font-bold text-blue-900">ุงูุฏุฑุฌุฉ</label>
                        <select id="degree" class="w-full border-2 border-slate-100 p-3 rounded-xl focus:border-blue-500 outline-none">
                            <option>ูุงุฌุณุชูุฑ</option>
                            <option>ุฏูุชูุฑุงู</option>
                        </select>
                    </div>
                    <div class="md:col-span-2">
                        <label class="font-bold text-blue-900">ููุงุญุธุงุช ุฅุถุงููุฉ</label>
                        <textarea id="notes" class="w-full border-2 border-slate-100 p-3 rounded-xl h-24 focus:border-blue-500 outline-none"></textarea>
                    </div>
                </div>
                
                <button type="submit" class="w-full bg-blue-900 text-white py-4 rounded-2xl font-bold text-lg hover:bg-blue-800 shadow-lg shadow-blue-200 transition-all active:scale-95">
                    ๐ ูุดุฑ ุงูุฑุณุงูุฉ ูู ุงูููุฑุณ ููุฑุงู
                </button>
            </form>
            <div id="status" class="mt-6 text-center font-bold text-green-600 hidden bg-green-50 p-4 rounded-xl border border-green-200">
                โ ุชูุงูููุง! ุชูุช ุฅุถุงูุฉ ุงูุฑุณุงูุฉ ุจูุฌุงุญ ููู ูุชุงุญุฉ ููุฌูููุฑ ุงูุขู.
            </div>
        </div>
    </div>

    <script>
        // ููุงุชูุญ ุงูุฑุจุท ุงูุฎุงุตุฉ ุจู ูู ุตูุฑุชู ุงูุฃุฎูุฑุฉ
        const firebaseConfig = {
            apiKey: "AIzaSyAogBGo2_OzNito9D9AXVyAjSjmu-DYotc",
            authDomain: "libyan-theses-portal.firebaseapp.com",
            projectId: "libyan-theses-portal",
            storageBucket: "libyan-theses-portal.firebasestorage.app",
            messagingSenderId: "80818219253",
            appId: "1:80818219253:web:5ca7224ac6a5c8a7377dbc"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        document.getElementById('thesisForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newData = {
                university: document.getElementById('university').value,
                author: document.getElementById('author').value,
                title: document.getElementById('title').value,
                faculty: document.getElementById('faculty').value,
                dept: document.getElementById('dept').value,
                supervisor: document.getElementById('supervisor').value,
                degree: document.getElementById('degree').value,
                notes: document.getElementById('notes').value,
                dateAdded: new Date().toLocaleDateString('ar-LY')
            };

            database.ref('theses').push(newData)
                .then(() => {
                    document.getElementById('status').classList.remove('hidden');
                    document.getElementById('thesisForm').reset();
                    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
                    setTimeout(() => { document.getElementById('status').classList.add('hidden'); }, 5000);
                })
                .catch((error) => { alert("ุนุฐุฑุงูุ ุญุฏุซ ุฎุทุฃ: " + error.message); });
        });
    </script>
</body>
</html>
